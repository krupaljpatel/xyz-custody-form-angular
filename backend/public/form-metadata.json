{
  "formTitle": "XYZ Custody Account Opening Form - Client",
  "tabs": [
    {
      "name": "AOF Page 1",
      "sections": [
        {
          "number": "1",
          "title": "General Account Information",
          "fields": [
            {
              "label": "Do you have XYZ Account Number reserved for the below opening?",
              "type": "radio",
              "name": "bbhAccountNumberReserved",
              "options": ["Yes", "No"],
              "required": true
            },
            {
              "label": "XYZ 7-digit Account Number",
              "type": "text",
              "name": "bbhAccountNumber",
              "conditional": {
                "field": "bbhAccountNumberReserved",
                "operator": "equals",
                "value": "Yes",
                "showWhen": true
              },
              "maxLength": 7,
              "pattern": "[0-9]{7}",
              "helpText": "7-digit XYZ account number"
            },
            {
              "label": "New Account Name (Long Name - Legal Title)",
              "type": "text",
              "name": "newAccountNameLegal",
              "required": true,
              "maxLength": 228,
              "helpText": "Account Legal Title is used to identify an account. Can have limit of 228 characters total. Should include client's full legal name."
            },
            {
              "label": "Short New Account Name",
              "type": "text", 
              "name": "shortAccountName",
              "required": true,
              "maxLength": 30,
              "helpText": "Shortened version displayed in XYZ Infuse and Wire Transfers. 30 character limit. Should be unique and recognizable."
            },
            {
              "label": "Contact Name",
              "type": "text",
              "name": "contactName",
              "required": true
            }
          ]
        },
        {
          "number": "2",
          "title": "Account Services",
          "fields": [
            {
              "label": "Foreign Exchange with XYZ",
              "type": "checkbox",
              "name": "foreignExchangeServices"
            },
            {
              "label": "Cash Services",
              "type": "checkbox",
              "name": "cashServices"  
            },
            {
              "label": "Physical",
              "type": "checkbox",
              "name": "physicalServices"
            }
          ]
        },
        {
          "number": "3",
          "title": "Global Custody Markets and Cash",
          "fields": [
            {
              "label": "Please select Cash currencies & Securities markets",
              "type": "section-header",
              "name": "currencyMarketsHeader"
            },
            {
              "label": "Currency Preferences",
              "type": "multiselect",
              "name": "currencyPreferences",
              "options": ["USD", "EUR", "GBP", "JPY", "CAD", "AUD", "CHF", "SEK", "NOK", "DKK", "HKD", "SGD", "CNY", "KRW", "INR", "BRL", "MXN", "ZAR", "RUB", "PLN", "CZK", "HUF", "ISK", "IDR", "ILS", "KZT", "KWD", "MYR", "NZD", "OMR", "PEN", "PHP", "QAR", "RON", "SAR", "THB", "AED", "UYU", "JOD", "KES", "MAD", "NGN"]
            }
          ]
        },
        {
          "number": "4",
          "title": "Intended Tax Treatment",
          "fields": [
            {
              "label": "Tax classification for U.S. tax purposes",
              "type": "dropdown",
              "name": "taxClassification",
              "required": true,
              "options": ["Individual", "Corporation", "Partnership", "Trust", "Financial institution", "Estate", "Government"]
            },
            {
              "label": "FATCA Classification",
              "type": "radio",
              "name": "fatcaClassification",
              "required": true,
              "options": ["FFI", "NFFE", "Neither FFI nor NFFE"]
            }
          ]
        },
        {
          "number": "5",
          "title": "Foreign Exchange with XYZ - confirmation methodology",
          "fields": [
            {
              "label": "Confirmation Method",
              "type": "dropdown",
              "name": "fxConfirmationMethod",
              "conditional": {
                "field": "foreignExchangeServices",
                "operator": "equals",
                "value": true,
                "showWhen": true
              },
              "required": true,
              "options": ["Email", "SWIFT", "Fax", "Phone"],
              "helpText": "Required when Foreign Exchange services are selected"
            }
          ]
        }
      ]
    },
    {
      "name": "AOF Page 2",
      "sections": [
        {
          "number": "6",
          "title": "Cash posting transactions", 
          "fields": [
            {
              "label": "Cash Transaction Settings",
              "type": "checkbox-group",
              "name": "cashTransactionSettings"
            }
          ]
        },
        {
          "number": "7",
          "title": "Mailing Products",
          "fields": [
            {
              "label": "Format Selection",
              "type": "radio",
              "name": "mailingFormat",
              "options": ["SWIFT", "Infuse", "Both"],
              "required": true,
              "helpText": "Please select mailing format"
            },
            {
              "label": "MT 950 Customer Statement Options",
              "type": "checkbox-group",
              "name": "mt950Options",
              "conditional": {
                "field": "mailingFormat",
                "operator": "in",
                "value": ["SWIFT", "Both"],
                "showWhen": true
              },
              "options": [
                "950 - MT950 Customer Statement w/ Ledger Aggregated",
                "MT 940 Customer Statement w/ Ledger 60",
                "MT 940 Customer Statement w/Head Acct and Ledger 60"
              ]
            },
            {
              "label": "SWIFT Message Types",
              "type": "checkbox-group", 
              "name": "swiftMessages",
              "conditional": {
                "field": "mailingFormat",
                "operator": "in",
                "value": ["SWIFT", "Both"],
                "showWhen": true
              },
              "options": [
                "613 - MT 513 Client Advice of Execution (Intraday)",
                "615 - MT 515 Confirmation of Purchase Sale (Batch)"
              ]
            },
            {
              "label": "Infuse User ID",
              "type": "text",
              "name": "infuseUserId",
              "conditional": {
                "field": "mailingFormat",
                "operator": "in",
                "value": ["Infuse", "Both"],
                "showWhen": true
              },
              "required": true,
              "helpText": "Required when Infuse mailing is selected"
            }
          ]
        },
        {
          "number": "8",
          "title": "Wire Transfer Address",
          "fields": [
            {
              "label": "Bank Name",
              "type": "text",
              "name": "wireTransferBankName"
            },
            {
              "label": "SWIFT Code",
              "type": "text",
              "name": "wireTransferSwiftCode",
              "pattern": "^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$",
              "helpText": "8 or 11 character SWIFT/BIC code"
            },
            {
              "label": "Account Details",
              "type": "textarea",
              "name": "wireTransferAccountDetails"
            }
          ]
        },
        {
          "number": "9",
          "title": "Billing Address",
          "fields": [
            {
              "label": "Same as Primary Address",
              "type": "checkbox",
              "name": "billingSameAsPrimary"
            },
            {
              "label": "Your Permanent Street Address",
              "type": "textarea", 
              "name": "billingStreetAddress",
              "conditional": {
                "field": "billingSameAsPrimary",
                "operator": "equals",
                "value": false,
                "showWhen": true
              }
            },
            {
              "label": "City or Town",
              "type": "text",
              "name": "billingCity",
              "conditional": {
                "field": "billingSameAsPrimary",
                "operator": "equals",
                "value": false,
                "showWhen": true
              }
            },
            {
              "label": "Country",
              "type": "dropdown",
              "name": "billingCountry",
              "conditional": {
                "field": "billingSameAsPrimary",
                "operator": "equals",
                "value": false,
                "showWhen": true
              },
              "options": ["UNITED STATES", "CANADA", "UNITED KINGDOM", "AUSTRALIA", "GERMANY", "FRANCE", "JAPAN", "SINGAPORE", "HONG KONG", "SWITZERLAND", "NETHERLANDS", "BELGIUM", "AUSTRIA", "DENMARK", "SWEDEN", "NORWAY", "FINLAND", "IRELAND", "ITALY", "SPAIN", "PORTUGAL", "LUXEMBOURG", "CAYMAN ISLANDS", "BERMUDA", "BAHAMAS", "BRITISH VIRGIN ISLANDS"]
            }
          ]
        },
        {
          "number": "10",
          "title": "Cash accounting",
          "fields": [
            {
              "label": "Cash Accounting Settings",
              "type": "checkbox-group",
              "name": "cashAccountingSettings"
            }
          ]
        },
        {
          "number": "11", 
          "title": "Trades - Custody",
          "fields": [
            {
              "label": "Trade Settings",
              "type": "checkbox-group",
              "name": "tradeSettings"
            }
          ]
        },
        {
          "number": "12",
          "title": "Payments - Cash", 
          "fields": [
            {
              "label": "Payment Settings",
              "type": "checkbox-group",
              "name": "paymentSettings"
            }
          ]
        },
        {
          "number": "13",
          "title": "FWDP - Allow MT304 Forward Processing (AFWD)",
          "fields": [
            {
              "label": "Forward Processing Settings",
              "type": "checkbox-group", 
              "name": "forwardProcessingSettings"
            }
          ]
        },
        {
          "number": "14",
          "title": "Corporate Actions",
          "fields": [
            {
              "label": "Corporate Action Settings",
              "type": "checkbox-group",
              "name": "corporateActionSettings" 
            }
          ]
        },
        {
          "number": "15",
          "title": "Fund Order & Custody",
          "fields": [
            {
              "label": "Fund Order Settings", 
              "type": "checkbox-group",
              "name": "fundOrderSettings"
            }
          ]
        }
      ]
    },
    {
      "name": "Additional SWIFTs",
      "sections": [
        {
          "number": "16.1",
          "title": "SWIFTS FOR TRADES & CUSTODY SERVICE MAILING PRODUCTS I",
          "fields": [
            {
              "label": "MT 535 Statement of Positions",
              "type": "checkbox-with-options",
              "name": "mt535StatementOfPositions",
              "helpText": "Please select frequency:",
              "conditionalOptions": [
                "Daily",
                "Weekly", 
                "Monthly",
                "Daily on activity",
                "Always daily",
                "Quarterly"
              ]
            },
            {
              "label": "MT509 - Trade Status Messages",
              "type": "checkbox-group",
              "name": "mt509Messages",
              "options": [
                "609 - MT509 - TRADE STATUS CHANGE"
              ]
            },
            {
              "label": "MT513/MT515 - Trade Confirmations",
              "type": "checkbox-group",
              "name": "tradeConfirmations",
              "options": [
                "613 - MT 513 Client Advice of Execution (Intraday)",
                "615 - MT 515 Confirmation of Purchase Sale (Batch)"
              ]
            },
            {
              "label": "MT535 - Statement Messages (Holdings)",
              "type": "checkbox-group",
              "name": "mt535Messages",
              "options": [
                "962 - MT 535 STAT TD LOC Price CUR FACE",
                "964 - MT 535 STAT SD LOC Price CUR FACE",
                "964 - MT111 535 STAT SD LOC Price CUR FACE",
                "966 - MT535 STAT-TD Date Multi CRY Price-ORG/CUR Face",
                "966 - MT535 SWIFT Base Curr",
                "967 - MT535 STAT-STLMNT Date Multi CRY Price-ORG/CUR Face",
                "967 - MT535 SWIFT Base Curr",
                "974 - MT 535 Status T/D LOC Price Orig Face",
                "975 - MT 535 Status USD Price ORIG Face",
                "976 - MT 535 Status SD LOC Price Orig Face",
                "977 - MT 535 Status SD USD Price Orig Face",
                "978 - MT 535 TD LOC Price Orig Face",
                "979 - MT 535 TD USD Price Orig Face",
                "980 - MT 535 SD LOC Price Orig Face",
                "981 - MT535 - SD USD PRICE ORIG FACE",
                "982 - MT 535 STAT TD LOC Price ORIG/CUR Face",
                "983 - MT 535 STAT TD USD Price ORIG/CUR Face",
                "984 - MT 535 STAT SD LOC Price ORIG/CUR Face",
                "985 - MT 535 STAT SD USD Price ORIG/CUR Face",
                "986 - MT 535 TD LOC Price ORIG/CUR Face",
                "987 - MT 535 TD USD Price ORIG/CUR Face",
                "988 - MT 535 SD LOC Price ORIG/CUR Face",
                "989 - MT 535 SD USD Price ORIG/CUR Face",
                "990 - MT 535 TD Unpric ORIG/CUR Face",
                "991 - MT 535 SD Unpric ORIG/CUR Face",
                "997 - MT 535 TD Unpric ORIG Face",
                "998 - MT 535 SD Unpric ORIG Face"
              ]
            },
            {
              "label": "MT536/MT537 - Transaction Statements",
              "type": "checkbox-group",
              "name": "transactionStatements",
              "options": [
                "692 - MT537 CSDR Daily penalty report",
                "693 - MT537 CSDR Monthly penalty report",
                "972 - MT 536 Statement of Transactions",
                "973 - MT 537F Statement of Fail Trans Only",
                "992 - MT 537R Statement of Repair Transactions Only",
                "994 - MT 537I Statement of Unmat DTC BRK CNFM",
                "995 - MT 537N Statement of No Pending Trans",
                "996 - MT 537P Statement of Pending Trans Only"
              ]
            },
            {
              "label": "MT538 - Intra-Position Advice",
              "type": "checkbox-group",
              "name": "intraPositionAdvice",
              "options": [
                "904 - MT 538 Statement of Intra-Position Advice EOD"
              ]
            },
            {
              "label": "MT54X - Trade Settlement Messages",
              "type": "checkbox-group",
              "name": "tradeSettlement",
              "options": [
                "918 - MT54X-SUPPRESS COPY OUTBOUND TRD CUST",
                "920 - MT 54X Outbound Trade Custody",
                "921 - MT 54X Outbound Trade Brokerage",
                "927 - MT 54X Purch/Sales Clearance - EOD",
                "928 - MT 54X Purch/Sales Clearance - Intraday",
                "930 - MT 54X US DK Confirm Aggregation EOD",
                "931 - MT 54X Custody Clearance - EOD",
                "932 - MT 54X Custody Clearance - Intraday",
                "934 - MT54X - PAS CLIENT - INTR",
                "935 - MT 54X Stock Loan Broker Only-Intra",
                "936 - MT 54X Stock Loan Broker Only - EOD",
                "937 - MT 54X Stock Loan Client - Intraday",
                "938 - MT 54X Stock Loan Client - EOD"
              ]
            },
            {
              "label": "MT548 - Status Messages",
              "type": "checkbox-group",
              "name": "statusMessages",
              "options": [
                "908 - MT548 REPAIR - Client Action Status Advice",
                "909 - MT548 REPAIR - Non-Client Action Status Advice",
                "910 - MT548 - FAIL STATUS ADVISE",
                "911 - MT548 - PENDING STATUS ADVICE",
                "912 - MT548 - UNMATCHED STATUS ADVICE",
                "913 - MT548 - MATCHED STATUS ADVICE",
                "914 - MT548 - TRANS CANCELLATION STAT ADVICE",
                "915 - MT548 - DOMESTIC RETURN RECEIVE ADVICE",
                "916 - MT548 - NEAR MATCH"
              ]
            },
            {
              "label": "MT576/MT578 - Order and Allegement Messages",
              "type": "checkbox-group",
              "name": "orderMessages",
              "options": [
                "699 - MT 576 Statement of Open Orders",
                "901 - MT 578 Stlmnt Allegement - Unmatched BRKR CNFM",
                "902 - MT 578 Stlmnt Allegement - Dom Return Rec"
              ]
            },
            {
              "label": "MT940/MT950 - Customer Statements",
              "type": "checkbox-group",
              "name": "customerStatements",
              "options": [
                "638 - MT 940 Customer Statement w/ Ledger 60",
                "639 - MT 940 Customer Statement w/Head Acct and Ledger 60",
                "640 - MT 940 Customer Statement w/ Head Account",
                "647 - MT940 Customer Statement Stk Loan L60 Acct",
                "648 - MT 940 Customer Statement w/ Ledger aggregated",
                "649 - MT 940 Customer Statement w/ Head & Ledger agg.",
                "650 - MT 940 Customer Statement w/ Head aggregated",
                "950 - MT950 Customer Statement w/ Ledger Aggregated",
                "951 - MT 950 Customer STMT W/ Head & L60 Aggregated",
                "952 - MT 950 Customer STMT W/ Head Aggregated",
                "957 - MT950 Customer Statement w/ Ledger Segregated",
                "958 - MT 950 Customer STMT W/ Head & L60 Segregated",
                "959 - MT 950 Customer STMT W/ Head Segregated"
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Additional SWIFTs",
      "sections": [
        {
          "number": "16.1",
          "title": "SWIFTS FOR TRADES & CUSTODY SERVICE MAILING PRODUCTS I",
          "fields": [
            {
              "label": "MT509 - Trade Status Messages",
              "type": "checkbox-group",
              "name": "mt509Messages",
              "options": [
                "MT 509 Trade Status Change",
                "609 - MT509 - TRADE STATUS CHANGE"
              ]
            },
            {
              "label": "MT51X - Confirmation Messages",
              "type": "checkbox-group", 
              "name": "mt51xMessages",
              "options": [
                "MT 51X Confirmation of Execution, Purchase, & Sales"
              ]
            },
            {
              "label": "MT513/MT515 - Trade Confirmations",
              "type": "checkbox-group",
              "name": "tradeConfirmations",
              "options": [
                "613 - MT 513 Client Advice of Execution (Intraday)",
                "615 - MT 515 Confirmation of Purchase Sale (Batch)"
              ]
            },
            {
              "label": "MT535 - Statement of Positions",
              "type": "checkbox-group",
              "name": "mt535Messages",
              "options": [
                "MT 535 Statement of Positions",
                "962 - MT 535 STAT TD LOC Price CUR FACE",
                "966 - MT535 STAT-TD Date Multi CRY Price-ORG/CUR Face",
                "967 - MT535 STAT-STLMNT Date Multi CRY Price-ORG/CUR Face",
                "974 - MT 535 Status T/D LOC Price Orig Face",
                "975 - MT 535 Status USD Price ORIG Face",
                "976 - MT 535 Status SD LOC Price Orig Face",
                "977 - MT 535 Status SD USD Price Orig Face",
                "978 - MT 535 TD LOC Price Orig Face",
                "979 - MT 535 TD USD Price Orig Face",
                "980 - MT 535 SD LOC Price Orig Face",
                "981 - MT535 - SD USD PRICE ORIG FACE",
                "982 - MT 535 STAT TD LOC Price ORIG/CUR Face",
                "983 - MT 535 STAT TD USD Price ORIG/CUR Face",
                "984 - MT 535 STAT SD LOC Price ORIG/CUR Face",
                "985 - MT 535 STAT SD USD Price ORIG/CUR Face",
                "986 - MT 535 TD LOC Price ORIG/CUR Face",
                "987 - MT 535 TD USD Price ORIG/CUR Face",
                "988 - MT 535 SD LOC Price ORIG/CUR Face",
                "989 - MT 535 SD USD Price ORIG/CUR Face",
                "990 - MT 535 TD Unpric ORIG/CUR Face",
                "991 - MT 535 SD Unpric ORIG/CUR Face",
                "997 - MT 535 TD Unpric ORIG Face",
                "998 - MT 535 SD Unpric ORIG Face"
              ],
              "helpText": "Frequency options: Daily / Daily on activity / Monthly"
            },
            {
              "label": "MT536 - Statement of Transactions",
              "type": "checkbox-group",
              "name": "mt536Messages",
              "options": [
                "MT 536 Statement of Transactions",
                "972 - MT 536 Statement of Transactions"
              ],
              "helpText": "Frequency options: Daily / Daily on activity"
            },
            {
              "label": "MT537 - Statement of Pending/Failed Transactions",
              "type": "checkbox-group",
              "name": "mt537Messages",
              "options": [
                "MT 537 Statement of Pending Transactions",
                "692 - MT537 CSDR Daily penalty report",
                "693 - MT537 CSDR Monthly penalty report",
                "973 - MT 537F Statement of Fail Trans Only",
                "992 - MT 537R Statement of Repair Transactions Only",
                "994 - MT 537I Statement of Unmat DTC BRK CNFM",
                "995 - MT 537N Statement of No Pending Trans",
                "996 - MT 537P Statement of Pending Trans Only"
              ]
            },
            {
              "label": "MT538 - Intra-Position and Depot Management Advice",
              "type": "checkbox-group",
              "name": "mt538Messages",
              "options": [
                "MT 538 Depot Management Advice",
                "904 - MT 538 Statement of Intra-Position Advice EOD"
              ]
            },
            {
              "label": "MT548 - Trade Status Advice",
              "type": "checkbox-group",
              "name": "mt548Messages",
              "options": [
                "MT 548 Trade Status Advice",
                "908 - MT548 REPAIR - Client Action Status Advice",
                "909 - MT548 REPAIR - Non-Client Action Status Advice",
                "910 - MT548 - FAIL STATUS ADVISE",
                "911 - MT548 - PENDING STATUS ADVICE",
                "912 - MT548 - UNMATCHED STATUS ADVICE",
                "913 - MT548 - MATCHED STATUS ADVICE",
                "914 - MT548 - TRANS CANCELLATION STAT ADVICE",
                "915 - MT548 - DOMESTIC RETURN RECEIVE ADVICE",
                "916 - MT548 - NEAR MATCH"
              ]
            },
            {
              "label": "Stock Loan SWIFT Messages",
              "type": "checkbox-group",
              "name": "stockLoanMessages",
              "options": [
                "906 - STOCK LOAN REPAIR-NON-CLNT ACT STAT AD",
                "907 - STOCK LOAN FAIL STATUS ADVISE",
                "923 - STOCK LOAN PENDING STATUS ADVICE",
                "924 - STOCK LOAN UNMATCHED STATUS ADVICE",
                "925 - STOCK LOAN MATCHED STATUS ADVICE",
                "926 - STOCK LOAN TRANS CANCELLATION STAT AD"
              ]
            },
            {
              "label": "Stock Borrow SWIFT Messages",
              "type": "checkbox-group",
              "name": "stockBorrowMessages",
              "options": [
                "939 - STOCK BRW REPAIR CLIENT ACTN STAT ADV",
                "943 - STOCK BRW REPAIR-NON-CLNT ACT STAT AD",
                "944 - STOCK BRW FAIL STATUS ADVISE",
                "945 - STOCK BRW PENDING STATUS ADVICE",
                "946 - STOCK BRW UNMATCHED STATUS ADVICE",
                "947 - STOCK BRW MATCHED STATUS ADVICE",
                "948 - STOCK BRW TRANS CANCELLATION STAT AD"
              ]
            },
            {
              "label": "MT54X - Trade Settlement Messages",
              "type": "checkbox-group",
              "name": "mt54xMessages",
              "options": [
                "MT 54X Outbound Trade Copy",
                "MT 54X Settlement Confirmations",
                "918 - MT54X-SUPPRESS COPY OUTBOUND TRD CUST",
                "920 - MT 54X Outbound Trade Custody",
                "930 - MT 54X US DK Confirm Aggregation EOD",
                "931 - MT 54X Custody Clearance - EOD",
                "932 - MT 54X Custody Clearance - Intraday",
                "935 - MT 54X Stock Loan Broker Only-Intra",
                "936 - MT 54X Stock Loan Broker Only - EOD",
                "937 - MT 54X Stock Loan Client - Intraday",
                "938 - MT 54X Stock Loan Client - EOD"
              ],
              "helpText": "Note: Cannot select 930 without first selecting 910"
            },
            {
              "label": "MT576 - Statement of Open Orders",
              "type": "checkbox-group",
              "name": "mt576Messages",
              "options": [
                "MT 576 - Statement of Open Orders",
                "699 - MT 576 Statement of Open Orders"
              ],
              "helpText": "Frequency options: Daily / Monthly"
            },
            {
              "label": "MT578 - Settlement Allegement",
              "type": "checkbox-group",
              "name": "mt578Messages",
              "options": [
                "MT 578 Settlement Allegement", 
                "901 - MT 578 Stlmnt Allegement - Unmatched BRKR CNFM",
                "902 - MT 578 Stlmnt Allegement - Dom Return Rec"
              ]
            },
            {
              "label": "MT940 - Customer Statement Messages",
              "type": "section-header",
              "name": "mt940SectionHeader"
            },
            {
              "label": "MT 940 Customer Statement Message",
              "type": "checkbox",
              "name": "mt940CustomerStatementMessage",
              "helpText": "Please select frequency:"
            },
            {
              "label": "MT940 Frequency Options",
              "type": "checkbox-group",
              "name": "mt940FrequencyOptions",
              "conditional": {
                "field": "mt940CustomerStatementMessage",
                "operator": "equals",
                "value": true,
                "showWhen": true
              },
              "options": [
                "Daily",
                "Daily on activity",
                "Weekly", 
                "Monthly",
                "Quarterly",
                "Always daily",
                "Zero Account Balance Trigger, No Cash Activity"
              ]
            },
            {
              "label": "MT940 Specific Message Types",
              "type": "checkbox-group",
              "name": "mt940Messages",
              "options": [
                "638 - MT 940 Customer Statement w/ Ledger 60",
                "639 - MT 940 Customer Statement w/Head Acct and Ledger 60",
                "640 - MT 940 Customer Statement w/ Head Account",
                "647 - MT940 Customer Statement Stk Loan L60 Acct",
                "648 - MT 940 Customer Statement w/ Ledger aggregated",
                "649 - MT 940 Customer Statement w/ Head & Ledger agg.",
                "650 - MT 940 Customer Statement w/ Head aggregated",
                "652 - Zero Account Balance Trigger, No Cash Activity"
              ]
            },
            {
              "label": "MT950 - Customer Cash Statements",
              "type": "section-header",
              "name": "mt950SectionHeader"
            },
            {
              "label": "MT 950 Customer of Cash Statement",
              "type": "checkbox",
              "name": "mt950CustomerCashStatement",
              "helpText": "Please select frequency:"
            },
            {
              "label": "MT950 Frequency Options",
              "type": "checkbox-group",
              "name": "mt950FrequencyOptions",
              "conditional": {
                "field": "mt950CustomerCashStatement",
                "operator": "equals",
                "value": true,
                "showWhen": true
              },
              "options": [
                "Daily",
                "Daily on activity",
                "Weekly",
                "Monthly"
              ]
            },
            {
              "label": "MT950 Specific Message Types",
              "type": "checkbox-group",
              "name": "mt950Messages",
              "options": [
                "950 - MT950 Customer Statement w/ Ledger Aggregated",
                "951 - MT 950 Customer STMT W/ Head & L60 Aggregated",
                "952 - MT 950 Customer STMT W/ Head Aggregated",
                "957 - MT950 Customer Statement w/ Ledger Segregated",
                "958 - MT 950 Customer STMT W/ Head & L60 Segregated",
                "959 - MT 950 Customer STMT W/ Head Segregated"
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "User Guide",
      "sections": [
        {
          "number": "Guide",
          "title": "Instructions and Field References",
          "content": "help_text_and_instructions"
        }
      ]
    }
  ],
  "validationRules": {
    "bbhAccountNumber": "^[0-9]{7}$",
    "wireTransferSwiftCode": "^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$",
    "postalCode": {
      "US": "^[0-9]{5}(-[0-9]{4})?$",
      "UK": "^[A-Z]{1,2}[0-9]{1,2}[A-Z]?\\s?[0-9][A-Z]{2}$",
      "CA": "^[A-Z][0-9][A-Z]\\s?[0-9][A-Z][0-9]$"
    }
  },
  "conditionalLogic": {
    "serviceBasedConditionals": [
      {
        "triggerField": "foreignExchangeServices",
        "operator": "equals",
        "value": true,
        "affectedFields": [
          {
            "field": "fxConfirmationMethod",
            "action": "show",
            "validation": "required"
          }
        ]
      },
      {
        "triggerField": "cashServices",
        "operator": "equals",
        "value": true,
        "affectedFields": [
          {
            "field": "cashTransactionSettings",
            "action": "show"
          },
          {
            "field": "cashAccountingSettings",
            "action": "show"
          }
        ]
      }
    ],
    "mailingAddressConditionals": [
      {
        "description": "SWIFT mailing requires at least one address type",
        "condition": "IF(OR(swiftMailing=true,infuseMailing=true),requireOneAddress,noValidation)",
        "validation": "At least one mailing address must be selected when SWIFT or Infuse mailing is enabled"
      },
      {
        "description": "Infuse User ID required when Infuse selected",
        "triggerField": "infuseMailing",
        "operator": "equals",
        "value": true,
        "affectedFields": [
          {
            "field": "infuseUserId",
            "action": "show",
            "validation": "required"
          }
        ]
      }
    ],
    "crossPageConditionals": [
      {
        "description": "Address fields from Page 1 populate address display on Page 2",
        "sourceFields": ["primaryAddress", "secondaryAddress"],
        "targetPage": "AOF Page 2",
        "targetFields": ["mailingAddress"]
      },
      {
        "description": "Tax classification affects multiple sections",
        "triggerField": "taxClassification",
        "affectedSections": ["mailingProducts", "wireTransfer"]
      }
    ],
    "validationRules": [
      {
        "rule": "mailingAddressRequired",
        "condition": "mailingFormat !== null",
        "message": "At least one mailing address type must be selected",
        "fields": ["mt950Options", "swiftMessages", "infuseUserId"]
      },
      {
        "rule": "accountServicesRequired", 
        "condition": "!foreignExchangeServices && !cashServices && !physicalServices",
        "message": "Please select at least one account service",
        "level": "warning"
      },
      {
        "rule": "currencyMarketsDependency",
        "condition": "(foreignExchangeServices || cashServices) && currencyPreferences.length === 0",
        "message": "Please select currencies when cash or FX services are enabled",
        "fields": ["currencyPreferences"]
      }
    ]
  },
  "lookupTables": {
    "countries": 268,
    "currencies": 40,
    "entityTypes": 100,
    "fatcaCodes": 30,
    "swiftMessageTypes": 100
  },
  "correctSectionStructure": {
    "note": "Sections extracted from Excel with correct numbering",
    "source": "Excel analysis completed",
    "sections": [
      "1. General Account Information",
      "2. Account Services", 
      "3. Global Custody Markets and Cash",
      "4. Intended Tax Treatment",
      "5. Foreign Exchange with BBH - confirmation methodology",
      "6. Cash posting transactions",
      "7. Mailing Products", 
      "8. Wire Transfer Address",
      "9. Billing Address",
      "10. Cash accounting",
      "11. Trades - Custody",
      "12. Payments - Cash", 
      "13. FWDP - Allow MT304 Forward Processing (AFWD)",
      "14. Corporate Actions",
      "15. Fund Order & Custody"
    ]
  }
}